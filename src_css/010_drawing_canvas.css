/* --- Ailey & Bailey Canvas --- */
/* File: 010_drawing_canvas.css */
/* Version: 4.0 (Theme-Aware Refactor) */
/* Description: Refactored to use established theme variables, fixing rendering and subsequent script errors. */

/* This targets the wrapper DIV created by Fabric.js, which contains our canvas */
.canvas-container {
    position: fixed !important; /* Use !important to override potential inline styles from Fabric.js */
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1000;
    pointer-events: none; /* JS will toggle this to 'auto' when drawing mode is active */
}

/* The original canvas element itself does not need positioning rules. */
#drawing-canvas-overlay {}

body.drawing-mode-active {
    cursor: crosshair;
}

#drawing-toolbar {
    position: fixed;
    bottom: 30px;
    right: 50%;
    transform: translateX(50%);
    border-radius: 12px;
    padding: 8px 12px;
    display: none; /* Initially hidden, controlled by JS */
    align-items: center;
    gap: 8px;
    z-index: 1001;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    transition: transform 0.3s ease-in-out, background-color 0.3s, border-color 0.3s;
}

#drawing-toolbar:hover {
    transform: translateX(50%) translateY(-5px);
}

/* Light Mode Styles */
body:not(.dark-mode) #drawing-toolbar {
    background-color: var(--container-bg-light);
    border: 1px solid var(--border-color-light);
}

/* Dark Mode Styles */
body.dark-mode #drawing-toolbar {
    background-color: var(--container-bg-dark);
    border: 1px solid var(--border-color-dark);
}

.toolbar-btn {
    background-color: transparent;
    border: none;
    cursor: pointer;
    padding: 6px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.2s, color 0.2s;
}

/* Light Mode Styles */
body:not(.dark-mode) .toolbar-btn {
    color: var(--sub-text-color-light);
}
body:not(.dark-mode) .toolbar-btn:hover {
    background-color: var(--quote-bg-light);
    color: var(--text-color-light);
}
body:not(.dark-mode) .toolbar-btn.active {
    background-color: var(--h2-color-light);
    color: white;
}

/* Dark Mode Styles */
body.dark-mode .toolbar-btn {
    color: var(--sub-text-color-dark);
}
body.dark-mode .toolbar-btn:hover {
    background-color: var(--quote-bg-dark);
    color: var(--text-color-dark);
}
body.dark-mode .toolbar-btn.active {
    background-color: var(--h2-color-dark);
    color: var(--bg-color-dark);
}


.toolbar-btn svg {
    fill: currentColor;
    width: 22px;
    height: 22px;
}

.toolbar-separator {
    width: 1px;
    height: 24px;
    margin: 0 4px;
}

/* Light Mode Styles */
body:not(.dark-mode) .toolbar-separator {
    background-color: var(--border-color-light);
}
/* Dark Mode Styles */
body.dark-mode .toolbar-separator {
    background-color: var(--border-color-dark);
}

.toolbar-color-picker {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    width: 28px;
    height: 28px;
    background-color: transparent;
    border: none;
    cursor: pointer;
    padding: 0;
}

/* Light Mode Styles */
body:not(.dark-mode) .toolbar-color-picker::-webkit-color-swatch {
    border-radius: 50%;
    border: 2px solid var(--border-color-light);
}
body:not(.dark-mode) .toolbar-color-picker::-moz-color-swatch {
    border-radius: 50%;
    border: 2px solid var(--border-color-light);
}
/* Dark Mode Styles */
body.dark-mode .toolbar-color-picker::-webkit-color-swatch {
    border-radius: 50%;
    border: 2px solid var(--border-color-dark);
}
body.dark-mode .toolbar-color-picker::-moz-color-swatch {
    border-radius: 50%;
    border: 2px solid var(--border-color-dark);
}


.toolbar-slider-container {
    display: flex;
    align-items: center;
    gap: 8px;
}

#drawing-width-slider {
    width: 100px;
    cursor: pointer;
}

#drawing-width-value {
    font-size: 12px;
    min-width: 20px;
    text-align: center;
}

/* Light Mode Styles */
body:not(.dark-mode) #drawing-width-value {
    color: var(--sub-text-color-light);
}
/* Dark Mode Styles */
body.dark-mode #drawing-width-value {
    color: var(--sub-text-color-dark);
}
